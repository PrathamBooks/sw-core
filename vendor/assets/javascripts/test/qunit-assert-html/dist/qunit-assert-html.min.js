/*! qunit-assert-html - v0.3.2 - 2015-04-09
* https://github.com/JamesMGreene/qunit-assert-html
* Copyright (c) 2015 James M. Greene; Licensed MIT */
!function(a,b,c){"use strict";var d=function(a){return a?"function"==typeof a.trim?a.trim():a.replace(/^\s+|\s+$/g,""):""},e=function(a){return a?d(a.replace(/\s+/g," ")):""},f=function(a,b){var c,d;if(b)for(c in a)d=a[c],d&&d===b[c]&&delete a[c];return a},g=Object.keys||function(){var a=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};return function(b){var c,d=[];for(c in b)a(b,c)&&d.push(c);return d}}(),h=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},i=function(){var a=function(){var a=function(){var a=/^-ms-/,b="ms-",c=/-([\da-z])/gi,d=function(a,b){return(b+"").toUpperCase()};return function(e){return e.replace(a,b).replace(c,d)}}(),b={};return function(c){var d=b[c];return d?d:(d=a(c),b[c]=d,d)}}(),b=function(b,c){return a(b)<a(c)};return function(c){var d,e,f,g={},h=[],i=c.ownerDocument.defaultView?c.ownerDocument.defaultView.getComputedStyle(c,null):c.currentStyle;if(i&&i.length&&i[0]&&i[i[0]]){for(d=i.length;d--;)h.push(i[d]);for(h.sort(b),e=0,d=h.length;d>e;e++)f=h[e],"cssText"!==f&&"string"==typeof i[f]&&i[f]&&(g[a(f)]=i[f])}else{for(f in i)h.push(f);for(h.sort(),e=0,d=h.length;d>e;e++)f=h[e],"cssText"!==f&&"string"==typeof i[f]&&i[f]&&(g[f]=i[f])}return g}}(),j=function(a,b){var c,d,h,j,l,m={NodeType:a.nodeType,NodeName:a.nodeName.toLowerCase(),Attributes:{},ChildNodes:[]};for(c=a.attributes,d=0,h=c.length;h>d;d++)l=c[d].name.toLowerCase(),"class"===l?m.Attributes[l]=e(c[d].value):"style"!==l&&(m.Attributes[l]=c[d].value);for(j=f(i(a),b),j&&g(j).length&&(m.Attributes.style=j),c=a.childNodes,d=0,h=c.length;h>d;d++)m.ChildNodes.push(k(c[d],b));return m},k=function(a,b){var c;switch(a.nodeType){case 1:c=j(a,b);break;case 3:c={NodeType:a.nodeType,NodeName:a.nodeName.toLowerCase(),NodeValue:a.nodeValue};break;case 4:case 7:case 8:c={NodeType:a.nodeType,NodeName:a.nodeName.toLowerCase(),NodeValue:d(a.nodeValue)};break;case 5:case 6:case 9:case 10:case 11:case 12:c={NodeType:a.nodeType,NodeName:a.nodeName};break;case 2:throw new Error("`node.nodeType` was `Node.ATTRIBUTE_NODE` (2), which is not supported by this method");default:throw new Error("`node.nodeType` was not recognized: "+a.nodeType)}return c},l=function(a){var b,c,e,f=m(),g=f.container(),h=i(g),j=[];for(g.innerHTML=d(a),b=g.childNodes,c=0,e=b.length;e>c;c++)j.push(k(b[c],h));return f.reset(),j},m=function(){var d,e,f,g,i="qunit-html-addon-container",j=!1,k=function(){j=!0},l=function(){("complete"===e.readyState||4===e.readyState)&&(j=!0)};if(!d){a.begin(function(){if(!e||!f||!g){e=b.document.createElement("iframe"),h(e,"load",k),h(e,"readystatechange",l),e.style.position="absolute",e.style.top=e.style.left="-1000px",e.height=e.width=0,b.document.body.appendChild(e),f=e.contentWindow||e.window||e.contentDocument&&e.contentDocument.defaultView||e.document&&(e.document.defaultView||e.document.window)||b.frames[e.name||e.id],g=f&&f.document||e.contentDocument||e.document;var a=["<!DOCTYPE html>","<html>","<head>","	<title>QUnit HTML addon iframe</title>","</head>","<body>",'	<div id="'+i+'"></div>','	<script type="text/javascript">',"		window.isReady = true;","	</script>","</body>","</html>"].join("\n");g.open(),g.write(a),g.close(),j=j||f.isReady}}),a.done(function(){e&&e.ownerDocument&&e.parentNode.removeChild(e),e=f=g=null,j=!1});var m=function(a){if(!j){a||(a=2e3);for(var b=new Date;!j&&new Date-b<a;)j=j||f.isReady}};d={container:function(){return m(),j&&g?g.getElementById(i):c},reset:function(){var a=d.container();a&&(a.innerHTML="")}}}return function(){return d}}();a.extend(a.assert,{htmlEqual:function(a,b,c){c=c||"HTML should be equal",this.deepEqual(l(a),l(b),c)},notHtmlEqual:function(a,b,c){c=c||"HTML should not be equal",this.notDeepEqual(l(a),l(b),c)},_serializeHtml:l}),a.assert.htmlNotEqual=a.assert.notHtmlEqual}(QUnit,this||window);